{"version":3,"sources":["../../src/the_conch/startSocketServer.js"],"names":["startSocketServer","msgPrefix","io","require","on","client","data","mappedIO","emit","listen"],"mappings":";;;;;;AAAA;;;;;;AAEA,SAASA,iBAAT,CAA4BC,SAA5B,EAAuC;AACrC,MAAMC,KAAKC,QAAQ,WAAR,GAAX;AACAD,KAAGE,EAAH,CAAM,SAAN,EAAiB;AAAA,WACfC,OAAOD,EAAP,CAAUH,SAAV,EAAqB,UAAUK,IAAV,EAAgB;AACnC,UAAMC,WAAW,0BAAID,IAAJ,CAAjB;AACAJ,SAAGM,IAAH,CAAQ,WAAR,iBAAiCD,QAAjC;AACAL,SAAGM,IAAH,CAAQ,KAAR,EAAeD,QAAf;AACD,KAJD,CADe;AAAA,GAAjB;AAOAL,KAAGO,MAAH,CAAU,IAAV;AACD;;kBAEcT,iB","file":"startSocketServer.js","sourcesContent":["import map from '../the_conch/dbMapUtils'\r\n\r\nfunction startSocketServer (msgPrefix) {\r\n  const io = require('socket.io')()\r\n  io.on('connect', client =>\r\n    client.on(msgPrefix, function (data) {\r\n      const mappedIO = map(data)\r\n      io.emit('tcMessage', `outputs '${mappedIO}'`)\r\n      io.emit('IR_', mappedIO)\r\n    })\r\n  )\r\n  io.listen(3010)\r\n}\r\n\r\nexport default startSocketServer\r\n"]}
{"version":3,"sources":["../../src/the_conch/startSocketServer.js"],"names":["startSocketServer","msgPrefix","io","require","on","client","data","inputMappedToOutput","output","input","console","log","emit","listen"],"mappings":";;;;;;AAAA;;;;;;AAEA,SAASA,iBAAT,CAA4BC,SAA5B,EAAuC;AACrC,MAAIC,KAAKC,QAAQ,WAAR,GAAT;AACAD,KAAGE,EAAH,CAAM,SAAN,EAAiB;AAAA,WACfC,OAAOD,EAAP,CAAUH,SAAV,EAAqB,UAAUK,IAAV,EAAgB;AACnC,UAAMC,sBAAsB,uBAAaC,MAAb,CAAoB,uBAAaC,KAAb,CAAmBH,IAAnB,CAApB,CAA5B;AACAI,cAAQC,GAAR,0CAAkDL,IAAlD,iEAAgHC,mBAAhH;AACAL,SAAGU,IAAH,CAAQ,KAAR,EAAeL,mBAAf;AACD,KAJD,CADe;AAAA,GAAjB;AAOAL,KAAGW,MAAH,CAAU,IAAV;AACD;;kBAEcb,iB","file":"startSocketServer.js","sourcesContent":["import commandTable from '../the_ocean/commandTable'\r\n\r\nfunction startSocketServer (msgPrefix) {\r\n  var io = require('socket.io')()\r\n  io.on('connect', client =>\r\n    client.on(msgPrefix, function (data) {\r\n      const inputMappedToOutput = commandTable.output(commandTable.input(data))\r\n      console.log(`The Conch has received a message, '${data}', which according your rules, means it should output '${inputMappedToOutput}'`)\r\n      io.emit('IR_', inputMappedToOutput)\r\n    })\r\n  )\r\n  io.listen(3010)\r\n}\r\n\r\nexport default startSocketServer\r\n"]}
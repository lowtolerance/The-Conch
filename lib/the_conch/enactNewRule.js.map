{"version":3,"sources":["../../src/the_conch/enactNewRule.js"],"names":["availableInputs","infrared","handler","initializer","prefix","enactNewRule","rule","protocol","input","console","log","listener"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,kBAAkB;AACtBC,YAAU,UADY;AAEtBC,WAAS;AACPC,4CADO;AAEPC,YAAQ;AAFD;AAFa,CAAxB;;AAQA,SAASC,YAAT,CAAuBC,IAAvB,EAA6B;AAC3B,MAAMC,WAAWD,KAAKE,KAAL,CAAWD,QAA5B;AACAE,UAAQC,GAAR,CAAYH,QAAZ;AACA,MAAIP,gBAAgBO,QAAhB,MAA8BA,QAAlC,EAA4C;AAC1CE,YAAQC,GAAR,eAAwBH,QAAxB;AACA,QAAMI,WAAWX,gBAAgBE,OAAhB,CAAwBC,WAAzC;AACAQ,aAASX,gBAAgBE,OAAhB,CAAwBE,MAAjC;AACD,GAJD,MAIO;AACLK,YAAQC,GAAR,4CAAoDH,QAApD;AACD;AACF;;kBAEcF,Y","file":"enactNewRule.js","sourcesContent":["import startSocketServer from './startSocketServer'\r\n\r\nconst availableInputs = {\r\n  infrared: 'infrared',\r\n  handler: {\r\n    initializer: startSocketServer,\r\n    prefix: 'IR_'\r\n  }\r\n}\r\n\r\nfunction enactNewRule (rule) {\r\n  const protocol = rule.input.protocol\r\n  console.log(protocol)\r\n  if (availableInputs[protocol] === protocol) {\r\n    console.log(`Starting ${protocol} listener`)\r\n    const listener = availableInputs.handler.initializer\r\n    listener(availableInputs.handler.prefix)\r\n  } else {\r\n    console.log(`No valid handler found for protocol '${protocol}'`)\r\n  }\r\n}\r\n\r\nexport default enactNewRule\r\n"]}